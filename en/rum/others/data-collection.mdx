---
title: "Data Collection"
description: "This document details the Flashduty RUM data collection mechanism, including event types, attributes, metrics, and data retention periods."
---

The RUM Browser SDK generates events with associated metrics and attributes. Each RUM event has all default attributes, such as the page URL (`view_url`) and user information like device type (`device_type`) and country (`geo_country`).

There are also additional metrics and attributes specific to a given event type. For example, the `view_loading_time` metric is associated with view events, while the `resource_method` attribute is associated with resource events.

## Event Types

| Event Type | Retention | Description |
|------------|-----------|-------------|
| **Session** | 30 days | A user session begins when a user starts browsing the web application. It contains high-level information about the user (browser, device, geolocation). It aggregates all RUM events collected during the user journey using a unique `session_id` attribute |
| **View** | 30 days | A view event is generated each time a user visits a page of the web application. While the user stays on the same page, resource, long task, error, and action events are linked to the related RUM view using the `view_id` attribute |
| **Resource** | 15 days | Resource events are generated for images, XHR, Fetch, CSS, or JS libraries loaded on a webpage. They include detailed loading time information |
| **Long Task** | 15 days | Long task events are generated for any task in the browser that blocks the main thread for more than 50 milliseconds |
| **Error** | 30 days | RUM collects every frontend error emitted by the browser |
| **Action** | 30 days | RUM action events track user interactions during the user journey and can also be manually sent to monitor custom user actions |

<Note>
Sessions are reset after 15 minutes of inactivity.
</Note>

### Event Hierarchy

<Frame caption="Hierarchical relationship between event types">
  <img src="https://docs-cdn.flashcat.cloud/images/png/eaaeda6894101f897c281961f824907a.png" alt="Event Hierarchy" style={{maxWidth: "300px", margin: "0 auto", display: "block"}} />
</Frame>

## Default Attributes

All RUM events contain the following default attributes:

| Attribute | Type | Description |
|-----------|------|-------------|
| `date` | integer | Event timestamp in milliseconds |
| `type` | string | Event type (e.g., `session`, `view`, `resource`, `error`, `action`) |
| `service` | string | Service name that generated this event |
| `application_id` | string | Application ID that generated this event |
| `session_id` | string | Session ID |
| `view_id` | string | View ID |
| `action_id` | string | User action ID |
| `context` | object | User-defined context |

## Event-Specific Metrics and Attributes

<Tabs>
  <Tab title="Session">
    ### Session Metrics

    | Metric | Type | Description |
    |--------|------|-------------|
    | `session_duration` | number | Session duration in milliseconds |
    | `session_view_count` | number | Number of views in the session |
    | `session_action_count` | number | Number of user actions in the session |
    | `session_error_count` | number | Number of errors in the session |
    | `session_resource_count` | number | Number of resources in the session |
    | `session_long_task_count` | number | Number of long tasks in the session |

    ### Session Attributes

    | Attribute | Type | Description |
    |-----------|------|-------------|
    | `session_type` | string | Session type (e.g., `user`, `synthetic`) |
    | `session_has_replay` | boolean | Whether session replay is enabled |
    | `session_is_active` | boolean | Whether the session is active |
    | `session_initial_view_id` | string | Initial view ID |
    | `session_initial_view_url` | string | Initial view URL |
    | `session_initial_view_referrer` | string | Referrer URL of the initial view |
  </Tab>
  <Tab title="View">
    ### View Metrics

    | Metric | Type | Description |
    |--------|------|-------------|
    | `view_loading_time` | number | View loading time in milliseconds |
    | `view_first_contentful_paint` | number | First contentful paint time in milliseconds |
    | `view_dom_interactive` | number | DOM interactive time in milliseconds |
    | `view_dom_complete` | number | DOM complete time in milliseconds |
    | `view_load_event_end` | number | Load event end time in milliseconds |
    | `view_error_count` | number | Number of errors in the view |
    | `view_resource_count` | number | Number of resources in the view |
    | `view_long_task_count` | number | Number of long tasks in the view |
    | `view_action_count` | number | Number of user actions in the view |

    ### View Attributes

    | Attribute | Type | Description |
    |-----------|------|-------------|
    | `view_url` | string | View URL |
    | `view_referrer` | string | Referrer URL of the view |
    | `view_name` | string | View name |
  </Tab>
  <Tab title="Resource">
    ### Resource Metrics

    | Metric | Type | Description |
    |--------|------|-------------|
    | `resource_duration` | number | Resource loading time in milliseconds |
    | `resource_size` | number | Resource size in bytes |
    | `resource_connect_duration` | number | Connection time in milliseconds |
    | `resource_ssl_duration` | number | SSL handshake time in milliseconds |
    | `resource_dns_duration` | number | DNS lookup time in milliseconds |
    | `resource_first_byte_duration` | number | Time to first byte in milliseconds |
    | `resource_download_duration` | number | Download time in milliseconds |

    ### Resource Attributes

    | Attribute | Type | Description |
    |-----------|------|-------------|
    | `resource_type` | string | Resource type (`xhr`, `fetch`, `document`, `script`, `css`, `image`, `font`, `media`, `other`) |
    | `resource_method` | string | HTTP method (e.g., `GET`, `POST`) |
    | `resource_status_code` | number | HTTP status code |
    | `resource_url` | string | Resource URL |
    | `resource_provider_name` | string | Resource provider name |
    | `resource_provider_domain` | string | Resource provider domain |
    | `resource_provider_type` | string | Resource provider type (`first-party`, `third-party`) |
  </Tab>
  <Tab title="Long Task">
    ### Long Task Metrics

    | Metric | Type | Description |
    |--------|------|-------------|
    | `long_task_duration` | number | Long task duration in milliseconds |
  </Tab>
  <Tab title="Error">
    ### Error Metrics

    | Metric | Type | Description |
    |--------|------|-------------|
    | `error_count` | number | Number of errors |

    ### Error Attributes

    | Attribute | Type | Description |
    |-----------|------|-------------|
    | `error_source` | string | Error source (`console`, `network`, `source`, `logger`, `agent`, `custom`) |
    | `error_type` | string | Error type |
    | `error_message` | string | Error message |
    | `error_stack` | string | Error stack trace |
  </Tab>
  <Tab title="Action">
    ### User Action Metrics

    | Metric | Type | Description |
    |--------|------|-------------|
    | `action_loading_time` | number | User action loading time in milliseconds |
    | `action_long_task_count` | number | Number of long tasks in the user action |
    | `action_resource_count` | number | Number of resources in the user action |
    | `action_error_count` | number | Number of errors in the user action |

    ### User Action Attributes

    | Attribute | Type | Description |
    |-----------|------|-------------|
    | `action_id` | string | User action ID |
    | `action_type` | string | User action type (e.g., `click`, `custom`) |
    | `action_target_name` | string | User action target name |
    | `action_name` | string | User action name |
  </Tab>
</Tabs>

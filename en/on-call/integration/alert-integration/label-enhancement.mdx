---
title: "Label Enhancement"
description: "Label enhancement automatically generates new labels during alert ingestion to supplement source data. Examples: extract IP from description, map resource ID to readable name, combine multiple fields to generate jump links"
---
{/*
## Video Introduction
<video
  controls
  className="w-full aspect-video rounded-xl"
  src="https://download.flashcat.cloud/flashduty/video/label-enrichment.mp4"
></video>

*/}
## Core Uses

Labels are used throughout Flashduty On-call's alert processing workflow:

| Scenario | Use |
| :--- | :--- |
| **Incident Filtering** | Quickly filter by labels in incident list |
| **Route Distribution** | Route alerts to different channels based on labels |
| **Assignment Notification** | Match different escalation rules by labels |
| **Alert Grouping** | Group similar alerts by label dimensions |
| **Silence/Inhibition** | Match alerts to silence or inhibit by labels |

## Configure Label Enhancement

Go to Integration Details → **Label Enhancement** → **Add Rule**.

### Enhancement Types

| Type | Description | Example |
| :--- | :--- | :--- |
| **Extract** | Extract content from title/description/labels using regex | Extract IP address from description |
| **Combine** | Concatenate new labels using template syntax | Combine domain + event ID to generate log link |
| **Map** | Convert values to readable names via mapping table | Map resource ID to resource type |
| **Delete** | Remove specified labels | Delete sensitive info labels |

<Frame>
<img src="https://docs-cdn.flashcat.cloud/images/png/c833e4ac159c9abaea755bad701d95ac.png" alt="Label enhancement types" />
</Frame>

### Configuration Options

| Option | Description |
| :--- | :--- |
| **Condition** | Only applies to alerts matching conditions, see [Configure Filter Conditions](/en/on-call/configuration/filter-conditions) |
| **Overwrite** | When enabled, overwrites labels with same name; disabled by default |
| **Preview** | Preview rule effects using real alerts |

<Tip>
Multiple rules execute sequentially from top to bottom. When a rule doesn't match, it's skipped and no corresponding label is generated.
</Tip>

## Configuration Examples

<Tabs>
<Tab title="Label Extraction">
**Scenario**: Alert events come from email integration; need to extract key information from description as labels for other scenarios, like extracting IP and trigger value from description as independent labels.

<Steps>
<Step title="View Original Alert">
<Frame>
<img src="https://docs-cdn.flashcat.cloud/images/png/4a335b5d80a1b5a8ea9460668f2a25d7.png" alt="Original alert" />
</Frame>
</Step>

<Step title="Configure Extraction Rule">
<Frame>
<img src="https://docs-cdn.flashcat.cloud/images/png/eaebc7f494e5b0e955fb381813bace74.png" alt="Extraction rule configuration" />
</Frame>
</Step>

<Step title="Verify Extraction Result">
<Frame>
<img src="https://docs-cdn.flashcat.cloud/images/png/33b3f01f2cc7f8b323765b0ed3ee7578.png" alt="Extraction result" />
</Frame>
</Step>
</Steps>
</Tab>

<Tab title="Label Combination">
**Scenario**: Company's log platform can access log details directly via domain + event ID + timestamp, but alert info only has event ID and timestamp labels, so need to combine these into an access URL.

<Steps>
<Step title="View Original Alert">
<Frame>
<img src="https://docs-cdn.flashcat.cloud/images/png/7b8eccb938993d2867bf3f7860b0788f.png" alt="Original alert" />
</Frame>
</Step>

<Step title="Configure Combination Rule">
<Frame>
<img src="https://docs-cdn.flashcat.cloud/images/png/ea29da12647637b5f46667d8205f65b2.png" alt="Combination rule configuration" />
</Frame>
</Step>

<Step title="Verify Combination Result">
<Frame>
<img src="https://docs-cdn.flashcat.cloud/images/png/7f6cf27203660cbd11ae737ed58a52a4.png" alt="Combination result" />
</Frame>
</Step>
</Steps>
</Tab>

<Tab title="Label Mapping">
**Scenario**: When source alert label values are variable and not intuitively meaningful, use mapping to map source labels to newly defined labels and values. For example, source alerts only have resource type IDs, but want to show corresponding resource type names.

<Steps>
<Step title="Prepare Mapping Table File">
Prepare a CSV format mapping table file to map resource type IDs in alerts to actual resource type names.

| ID | Type |
| :---: | :---: |
| A | server |
| B | router |
| C | gateway |
| D | database |
| E | MQ |
</Step>

<Step title="Create Mapping Table">
1. Go to `Integration Center` → `Label Mapping` → `Create Label Mapping`
2. Fill in basic info like name, description, management team, etc.
3. In `Mapping Table Data`, upload the prepared CSV file (if quantity is small, you can edit and add in mapping details page after creation)
4. Select `Source Label` (e.g., `ID`), select `Target Label` (e.g., `Type`)
5. Click `Create` to complete mapping table creation

<Frame>
<img src="https://docs-cdn.flashcat.cloud/images/png/95bc8cdf3d3dcb60a52d11cdad4c386b.png" alt="Create mapping table" />
</Frame>
</Step>

<Step title="Configure Mapping Relationship">
<Frame>
<img src="https://docs-cdn.flashcat.cloud/images/png/d25e632242d1a37ce9f159cd3b3086d4.png" alt="Configure mapping relationship" />
</Frame>
</Step>

<Step title="Verify Mapping Result">
**Original Alert**: Reported alert info only has resource ID, no resource type name.

<Frame>
<img src="https://docs-cdn.flashcat.cloud/images/png/c5e636c149f7125c0bde7e479414e130.png" alt="Original alert" />
</Frame>

**Mapping Result**: Through configured mapping relationship, map resource ID to new resource type name label.

<Frame>
<img src="https://docs-cdn.flashcat.cloud/images/png/8f93f6ae82e76e79196b5bf488663fe8.png" alt="Mapping result" />
</Frame>
</Step>
</Steps>
</Tab>
</Tabs>

### Mapping Table Data Management

In the mapping table details page, you can manage mapping table data:

| Feature | Description |
| :--- | :--- |
| Data Search | Search by source label value |
| Data Add | Manually add mapping data |
| Data Upload | Upload new data mapping table, will overwrite existing data |
| Data Download | Download current mapping table data locally |
| Data Display | Display current mapping table data, can edit or delete |

<Frame>
<img src="https://docs-cdn.flashcat.cloud/images/png/477563cfc4e3759e8584edd34fa5bf9a.png" alt="Mapping table data management" />
</Frame>

<Tip>
For frequently changing mapping relationships (like CMDB data sync), we recommend using [Flashduty API](https://developer.flashcat.cloud/api-142429470) for automated updates.
</Tip>

## Further Reading

<CardGroup cols={2}>
<Card title="Configure Escalation Rules" icon="paper-plane" href="/en/on-call/channel/escalation-rule">
Use labels to match escalation conditions
</Card>
<Card title="Configure Noise Reduction" icon="volume-slash" href="/en/on-call/channel/noise-reduction">
Use labels as grouping dimensions
</Card>
<Card title="Configure Filter Conditions" icon="filter" href="/en/on-call/configuration/filter-conditions">
Learn label matching syntax
</Card>
<Card title="Configure Routing Rules" icon="route" href="/en/on-call/integration/alert-integration/routing-rules">
Distribute alerts to different channels
</Card>
</CardGroup>

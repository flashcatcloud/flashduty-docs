---
title: "Alert Pipeline"
description: "Cleanse, format, and preprocess data at the alert ingestion source"
---

**Alert Processing Pipeline** allows you to **cleanse**, **transform**, and **filter** alert data at the moment it enters Flashduty On-call (integration layer). It acts like a data processing factory, ensuring alerts flowing into channels are standardized, clear, and valuable.

{/*
## Video Introduction

<video
  controls
  className="w-full aspect-video rounded-xl"
  src="https://download.flashcat.cloud/flashduty/video/alert-pipelines.mp4"
></video>

*/}

## How It Works

Pipeline sits between **Alert Ingestion** and **Route Distribution**. Its execution logic is as follows:

1. **Chain Processing**: You can configure multiple processing rules that execute sequentially **from top to bottom**
2. **Input/Output**: The result of a previous rule (e.g., modified title) can serve as input for the next rule
3. **Layer Positioning**: Pipeline operates at the **integration layer**. This means once rules take effect, all alerts ingested through this integration will be affected, regardless of which channel they're ultimately routed to

<Frame>
<img src="https://docs-cdn.flashcat.cloud/images/png/517a537c48284c7b72d86262e7b855e7.png" alt="Alert processing workflow" />
</Frame>

## Configuration Entry

Go to **Integration Center** => Select created integration => **Alert Processing** tab.

<Frame>
<img src="https://docs-cdn.flashcat.cloud/images/png/e581fe9fc4ba1a505f0c47c7864c55ac.png" alt="Alert processing configuration entry" />
</Frame>

## Core Features and Scenarios

### Custom Severity

Flashduty On-call has built-in severity mapping for standard integrations (e.g., mapping Zabbix `High` to `Critical`). But if default rules don't meet your needs, you can override them via Pipeline.

**Scenario**: `Warning` level alerts in the monitoring system are actually critical for core payment business and need to be upgraded to `Critical` to trigger phone notifications.

| Config Item | Value |
| :--- | :--- |
| Condition | `labels.service` equals `payment` AND `severity` equals `Warning` |
| Action | Update severity to `Critical` |

### Information Rewrite

Convert cryptic machine language to human-readable business language using template syntax.

<Tabs>
<Tab title="Rewrite Title">
**Scenario**: Original title contains lots of IDs without business meaning.

| Item | Content |
| :--- | :--- |
| Original Title | `[Problem] CPU Load High on i-12345678` |
| New Title Template | `[TPL]{{.Labels.env}} Environment - {{.Labels.service}} Service CPU Load Alert` |
| Result | `Production Environment - Order Service CPU Load Alert` |
</Tab>

<Tab title="Rewrite Description">
**Scenario**: Automatically append Runbook links or dashboard URLs in description to assist quick troubleshooting.

| Config Item | Value |
| :--- | :--- |
| Action | Update alert description |
| Append Content | `Grafana Dashboard: https://grafana.corp.com/d/cpu?var-host={{.Labels.host}}` |
</Tab>
</Tabs>

### Alert Discard

Discard directly before data storage, leaving no records. This is similar to "Exclusion Rules" in channels but takes effect earlier.

| Scenario | Advantage |
| :--- | :--- |
| Frequent restart alerts from dev environment | Cleanse at source |
| Known harmless errors (like "NTP offset") | Reduce load on subsequent routing and storage resources |

### Alert Inhibition

Pipeline's inhibition feature is **exactly the same** as channel inhibition rules, both supporting dependency-based inhibition based on source incident, target incident, and correlation conditions.

| Comparison | Pipeline Inhibition | Channel Inhibition |
| :--- | :--- | :--- |
| Effective Layer | Integration layer | Channel layer |
| Use Case | **Global** inhibition logic, like inhibiting all alerts from a datacenter after network outage | Inhibition rules for specific channels |

<Tip>
When an entire datacenter loses network, all alerts from that datacenter (regardless of business line) should be inhibited. Configuring one rule at the integration layer is much more efficient than configuring separately in dozens of channels.
</Tip>

## Reference Syntax

When rewriting titles or descriptions, you can use Go Template syntax to reference internal alert variables. Proper use of variable references makes your alert notifications more dynamic and informative.

| Variable | Description | Example |
| :--- | :--- | :--- |
| `[TPL]{{.Labels.xxx}}` | Reference specific label | `[TPL]{{.Labels.host}}` |
| `[TPL]{{.Title}}` | Reference current title | `[TPL][Forwarded] {{.Title}}` |
| `[TPL]{{.Description}}` | Reference current description | `[TPL]Details: {{.Description}}` |
| `[TPL]{{.Severity}}` | Reference current severity | `[TPL]Current Level: {{.Severity}}` |

<Tip>
Before configuring Pipeline, we recommend observing raw alert data for a period to identify which fields (Labels) are stable and which need cleansing.
</Tip>

## Further Reading

<CardGroup cols={2}>
<Card title="Configure Label Enhancement" icon="tags" href="/en/on-call/integration/alert-integration/label-enhancement">
Dynamically generate or modify alert labels
</Card>
<Card title="Configure Filter Conditions" icon="filter" href="/en/on-call/configuration/filter-conditions">
Learn condition matching syntax
</Card>
<Card title="Configure Routing Rules" icon="route" href="/en/on-call/integration/alert-integration/routing-rules">
Distribute alerts to different channels
</Card>
<Card title="Configure Noise Reduction" icon="volume-slash" href="/en/on-call/channel/noise-reduction">
Inhibit alerts at the channel layer
</Card>
</CardGroup>

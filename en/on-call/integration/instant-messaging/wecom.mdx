---
title: "WeCom"
description: "By integrating a WeCom third-party app, you can receive and respond to alerts within WeCom"
---

This documentation supports [Third-Party App Integration](#third-party) or [Custom App Integration](#self) methods.

<div className="hide">

{/*
## Video Introduction

---

<Video src="https://download.flashcat.cloud/flashduty/video/wechat.mp4"></Video>

*/}
</div>

<Note>
**Third-Party App Integration** and **Custom App Integration** only need to configure one method as needed.
</Note>

<span id="third-party"></span>

## 1. Third-Party App Integration

<Info>
As a WeCom service provider, Flashduty provides a long-term free version of the Flashduty app. This app requires WeCom API call authorization to use (passwordless login + message sending). This authorization currently supports **up to 60 days** free; beyond this usage period, Flashduty needs to purchase WeCom licenses for you before you can continue using it.
</Info>

1. Visit [WeCom Admin Console](https://work.weixin.qq.com/wework_admin/frame#apps), go to App Management → **Apps** page, click **Add Third-Party App**.

   ![2025-09-18-11-36-22](https://docs-cdn.flashcat.cloud/images/png/ae4d35a354aaf22dd41b7493200517bc.png)

2. Enter `Flashduty` in the search bar, after finding the app, click **Add**.

   ![2025-09-18-11-38-57](https://docs-cdn.flashcat.cloud/images/png/77347db478c45f4c9d238d587d323a78.png)

3. Modify app **Visibility**, recommend selecting all employees or specific department nodes to avoid modifying when new enterprise members join. Then click **Agree to the above authorization and add** to complete installation.

   ![2025-09-18-12-05-07](https://docs-cdn.flashcat.cloud/images/png/0821d1afdeb5db34c4c9b5548d5c8ca1.png)

4. Visit [WeCom Admin Console](https://work.weixin.qq.com/wework_admin/frame#apps), go to **My Enterprise** page, get `Corp ID`.

   ![2025-09-18-11-44-54](https://docs-cdn.flashcat.cloud/images/png/c032dc755a72550d57658dd5962dafe4.png)

5. Return to Flashduty On-call integration configuration page, fill in the `Corp ID` obtained in the previous step, click **Save** to complete integration.

<span id="self"></span>

## 2. Custom App Integration

1. Visit [WeCom Admin Console](https://work.weixin.qq.com/wework_admin/frame#apps), go to App Management → **Apps** page, click **Create App**.

   ![2025-09-18-11-46-44](https://docs-cdn.flashcat.cloud/images/png/ed274f6a897b808678a5a29b23adcb66.png)

2. Configure **App Logo**, **App Name**, and **App Visibility**.

   ![2025-09-18-11-49-18](https://docs-cdn.flashcat.cloud/images/png/26ec124891e580a6d1e1035ba52636ba.png)

3. Return to Flashduty On-call integration configuration page, select whether your WeCom is `Non-private deployment version` based on your actual situation.

   If your WeCom is a private deployment version, you need to fill in `Endpoint` in the configuration page. This address needs to be accessible by Flashduty services—you may consider setting up **whitelist authorization** for it.

4. Visit [WeCom Admin Console](https://work.weixin.qq.com/wework_admin/frame#apps), go to **My Enterprise** page, get `Corp ID`, and fill it in the Flashduty On-call integration configuration page.

5. Return to [WeCom Admin Console](https://work.weixin.qq.com/wework_admin/frame#apps), go to **App Management** page, click the app you created to enter details page. Get `AgentId` from the page and fill it in the Flashduty On-call integration configuration page.

6. On the app details page, get `Secret` and fill it in the Flashduty On-call integration configuration page.

7. On the app details page, go to **Web Authorization & JS-SDK** page, click **Set Trusted Domain**, and configure as required.

<Note>
The trusted domain needs to point to Flashduty On-call's backend address `{api_host}` (achievable via CNAME or proxy forwarding). For trusted domain requirements, see WeCom official documentation [Enterprise Internal Development Domain Configuration Guide](https://open.work.weixin.qq.com/wwopen/common/readDocument/40754).
</Note>

![2025-10-15-10-30-56](https://docs-cdn.flashcat.cloud/images/png/09a91d682198d1c8f830b5ed523965ef.png)

   Return to Flashduty On-call integration configuration page, fill in this domain and complete verification.

8. On the app details page, go to **Receive Messages** page, and **Set API Receive**. Click **Random Generate** for `Token` and `EncodingAESKey` respectively, then copy and save the generated values.

   ![2025-09-18-11-58-45](https://docs-cdn.flashcat.cloud/images/png/919bd2722c75513ce1d301779b39c3bf.png)

   Return to Flashduty On-call integration configuration page, fill in the saved `Token` and `EncodingAESKey`, click **Save** to complete integration.

9. Copy the `Callback URL` from Flashduty On-call integration details page, return to WeCom's **Receive Messages** page. In **API Receive** settings, fill in this `Callback URL` and the `Token` and `EncodingAESKey` saved in the previous step, then click **Save**.

   ![2025-09-18-11-56-43](https://docs-cdn.flashcat.cloud/images/png/c990c27f7ad90af172e159fc4acfead7.png)

10. Configure **Frontend Trusted Domain**

<Note>
The trusted domain needs to point to Flashduty On-call's frontend address `console.flashcat.cloud` (achievable via CNAME or proxy forwarding). For trusted domain requirements, see WeCom official documentation [Enterprise Internal Development Domain Configuration Guide](https://open.work.weixin.qq.com/wwopen/common/readDocument/40754).
</Note>

After frontend trusted domain verification passes, configure the generated **Homepage URL** to the WeCom app's **Workspace App Homepage**

![2025-10-14-19-51-01](https://docs-cdn.flashcat.cloud/images/png/595a71dd5624a37312676e83c45d79c4.png)

11. Configure **Trusted IP Address**: `47.93.12.134`

![2025-10-14-20-26-45](https://docs-cdn.flashcat.cloud/images/png/fe3b2b788dda5d331148ba0946631b91.png)

## 3. Configure War Room

<Warning>
War Room functionality is only supported in **Custom App Integration** mode.
</Warning>

After completing previous steps, in the Flashduty On-call integration configuration page's **Enhanced Features** section, check **Enable War Room** to activate this feature—no additional configuration needed.

## 4. FAQ

<AccordionGroup>
<Accordion title="After clicking integration save button, system shows 'authorize app first' error?">
- Please check if you've completed the app installation steps. For example, can you see the Flashduty On-call app in WeCom Workspace
- Please check if you've correctly configured `Corp ID`
</Accordion>

<Accordion title="How to complete account linking or message delivery shows 'App not linked'?">
1. Login to WeCom client (desktop or mobile), go to **Workspace**, find and open the Flashduty app
2. First entry requires login. Select your member account, after successful login via password or SSO, Flashduty account and WeCom account will be linked
3. Subsequent app access will be automatically passwordless
</Accordion>

<Accordion title="How to send incident notifications?">
1. Before sending notifications, account linking must be completed as described in the previous question
2. Go to the specified channel, navigate to `Escalation Rules` → **Personal Channel**, select `WeCom` as notification method
3. Flashduty On-call supports customizing WeCom notification content. Go to **Template Management** page to set custom templates

<Note>
Custom area can display up to 8 lines; excess will be truncated by WeCom.
</Note>

![2025-09-18-12-02-26](https://docs-cdn.flashcat.cloud/images/png/9cb6a325b4b16875fec3e0c5054be25b.png)
</Accordion>

<Accordion title="How to handle alerts within WeCom?">
- Click card message to go directly to alert details page
- Click **Start Processing** to directly set alert to `Processing` status
- Click **Close Directly** to directly set alert to `Closed` status
- Click **Snooze 2 hours** to snooze the alert for 2 hours. For longer snooze times, click `...` in the card's top-right corner for more snooze options
</Accordion>

<Accordion title="Why does the card message have a 'Refresh Status' button?">
Due to WeCom limitations, after one card interaction, it can only be updated once within 72 hours. Each button operation counts as one interaction.

When alert status changes, Flashduty On-call requests to update card content. When alert status changes frequently, cards may not update in real-time due to exceeding update limits. You can click the **Refresh** button to manually get one card status update opportunity.
</Accordion>

<Accordion title="How to set Mac desktop to open with system default browser?">
Mac desktop defaults to opening links with WeCom's built-in browser. Try using shortcut `ctrl` + `command` + `shift` + `d` to enable debug mode, then select **Debug** → **Browser, WebView Related** → **Open Webpage with System Browser** to change link opening method. Use the same shortcut to disable debug mode; settings will be preserved.
</Accordion>

<Accordion title="Incident notification failed with 'WeCom license not enabled' prompt?">
Please contact Flashduty customer service or your dedicated technical support to purchase and enable the license.
</Accordion>

<Accordion title="Why isn't War Room working as expected?">
See the **FAQ** section in [War Room documentation](/en/on-call/advanced/war-room).
</Accordion>

<Accordion title="Why does opening the app in WeCom Workspace show 'redirect_uri needs to use app trusted domain'?">
Please confirm whether the domain in the `redirect_uri` parameter of the **App Homepage** URL has completed WeCom's required domain ownership verification. See WeCom official documentation [Enterprise Internal Development Domain Configuration Guide](https://open.work.weixin.qq.com/wwopen/common/readDocument/40754).
</Accordion>
</AccordionGroup>

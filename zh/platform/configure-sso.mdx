---
title: 单点登录
description: 通过单点登录实现一次登录，访问多个关联应用，提高工作效率并增强安全性
keywords: ["单点登录", "SSO", "SAML", "OIDC", "LDAP"]
---

Flashduty 支持 SAML2.0、OIDC、CAS 和 LDAP（仅私有化版本）协议的单点登录（SSO）接入，帮助您轻松集成到各种应用和平台中。用户只需登录一次，便可访问多个关联的应用程序和服务，无需重复身份验证。

## 配置 SAML 协议

---

**配置路径**：平台管理 → 单点登录 → 开启 → 设置 → 选中 SAML2.0 协议类型

| 字段 | 描述 |
| --- | --- |
| 协议类型 | 选择 SAML2.0 |
| 元数据文档 | 通过身份提供商获取的 XML 文档 |
| 字段映射 | Flashduty 通过映射字段从身份提供商提取用户邮箱、用户名和手机信息 |
| 登录域名 | 识别身份的重要依据，全局唯一 |
| 登录即创建账号 | 默认开启，关闭后需要先邀请成员才可登录 |
| Flashduty 服务提供商信息 | **Service Provider Metadata** 和 **Assertion Consumer Service URL**（断言地址，用于身份提供商调用进行单点登录） |

## 配置 OIDC 协议

---

**配置路径**：平台管理 → 单点登录 → 开启 → 设置 → 选中 OIDC 协议类型

| 字段 | 描述 |
| --- | --- |
| 协议类型 | 选择 OIDC 协议 |
| Issuer | 从身份提供商获取，大小写敏感的 URL，不能包含 query 参数 |
| Client ID | 客户端 ID，从身份提供商获取 |
| Client Secret | 客户端密钥，从身份提供商获取 |
| 字段映射 | Flashduty 通过映射字段从身份提供商提取用户邮箱、用户名和手机信息 |
| 登录域名 | 识别身份的重要依据，全局唯一 |
| 登录即创建账号 | 默认开启，关闭后需要先邀请成员才可登录 |
| Flashduty 服务提供商信息 | **Redirect URL**：身份提供商回调地址<br />**支持签名算法**：RS256, RS384, RS512, ES256, ES384, ES512, PS256, PS384, PS512（不支持 HS256）<br />**请求 scope**：openid, email, phone |

## 配置 CAS 协议

---

**配置路径**：平台管理 → 单点登录 → 开启 → 设置 → 选中 CAS 协议类型

| 字段 | 描述 |
| --- | --- |
| 协议类型 | 选择 CAS 协议 |
| CAS 地址 | 从身份提供商获取的 CAS 服务地址 |
| CAS 登录路径 | CAS 登录路径 |
| 字段映射 | Flashduty 通过映射字段从身份提供商提取用户邮箱、用户名和手机信息 |
| 登录域名 | 识别身份的重要依据，全局唯一 |
| 登录即创建账号 | 默认开启，关闭后需要先邀请成员才可登录 |
| Flashduty 服务提供商信息 | **Redirect URL**：身份提供商回调地址 |

## 配置 LDAP 协议

---

<Note>
LDAP 单点登录仅**私有化版本**支持。
</Note>

**配置路径**：平台管理 → 单点登录 → 开启 → 设置 → 选中 LDAP 协议类型

| 字段 | 描述 |
| --- | --- |
| 协议类型 | 选择 LDAP 协议 |
| LDAP 链接 | LDAP 服务地址，如：`ldap://10.10.10.10:389` |
| BIND DN | 用于连接 LDAP 的用户名，如：`cn=admin,dc=flashduty,dc=com` |
| BIND DN 密码 | 用于连接 LDAP 的密码，将加密存储到数据库中 |
| TLS | TLS 登录时 Skip Verify |
| StartTLS | 是否启用 StartTLS |
| 用户 DN | 定义从哪个目录开始搜索用户，如：`ou=people,dc=flashduty,dc=com` |
| 认证过滤 | 用于检索用户 DN 信息的自定义 filter 表达式，基本形式为：`(&(mail=%s))`。注意：开始和结束的括号是必须的 |
| 字段映射 | Flashduty 通过映射字段从身份提供商提取用户邮箱、用户名和手机信息，邮箱为必填映射字段 |
| 登录域名 | 识别身份的重要依据，全局唯一 |
| 登录即创建账号 | 默认开启，关闭后需要先邀请成员才可登录 |

<Tip>
字段映射需要和身份提供商的配置保持一致，否则会导致异常。具体配置可参考 [OpenLDAP 集成指引](/zh/on-call/integration/sso/openldap)。
</Tip>

## 最佳实践

---

<CardGroup cols={3}>
  <Card title="Authing 集成" icon="shield-check" href="/zh/on-call/integration/sso/authing">
    通过 Authing 配置 Flashduty SSO 单点登录
  </Card>
  <Card title="Keycloak 集成" icon="key" href="/zh/on-call/integration/sso/keycloak">
    通过 Keycloak 配置 Flashduty SSO 单点登录
  </Card>
  <Card title="OpenLDAP 集成" icon="server" href="/zh/on-call/integration/sso/openldap">
    通过 OpenLDAP 配置 Flashduty SSO 单点登录
  </Card>
</CardGroup>

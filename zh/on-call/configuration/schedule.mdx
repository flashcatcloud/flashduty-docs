---
title: 值班管理
description: 灵活配置值班表与轮换规则，确保 7x24 小时故障响应
keywords: ["值班管理", "值班表", "轮换规则", "7x24", "值班排班"]
---

在应急响应（On-call）体系中，**值班表**（Schedule）是连接"故障"与"人"的桥梁。一个合理的值班机制，既能确保故障发生时"一定有人响应"，又能避免让某一个人长期处于高压状态，实现团队的可持续运维。

Flashduty On-call 提供极具灵活性的值班编排能力，支持按天、周、自定义周期轮换，同时也支持白班/夜班、主备值班等复杂场景。

{/*
## 视频介绍

---

<Video src="https://download.flashcat.cloud/flashduty/video/schedule.mp4"></Video>

*/}
## 核心概念

---

在配置之前，理解以下概念有助于您更好地规划值班：

| 概念 | 说明 |
| --- | --- |
| **值班表** | 一个独立的值班单元（如"SRE 值班表"、"DBA 值班表"），包含多条具体的值班规则 |
| **值班层** | 一个值班表可以包含多层规则。例如，第一层是"白班"，第二层是"夜班"。多层规则叠加，最终形成完整的值班计划 |
| **轮换** | 决定了值班人员如何交接。例如"每周一上午 10 点交接" |
| **临时调班** | 在不修改长期规则的前提下，临时调整某一段时间的值班人（常用于请假、临时顶班） |
| **日期掩码** | 选择参与值班的时期，比如周一到周五时 A 团队值班，周末是 B 团队值班 |
| **连续轮换** | 开启后，轮换边界以班次开始时间为基准计算，避免班次在 00:00 被拆分。仅在配置日期掩码时支持，详见[日期掩码与连续轮换](#日期掩码与连续轮换) |

![值班表概念图](https://docs-cdn.flashcat.cloud/images/png/3423a4f3133d5caa1f0aaebca970d404.png)

## 配置流程

---

<Steps>
  <Step title="创建值班表">
    进入 **值班管理**，点击"创建值班表"
    - **值班描述**：支持 Markdown 语法，该区域的内容可以在通知时携带
    - **所属团队**：指定该值班表归属哪个团队管理，并非值班人员
  </Step>
  <Step title="设置通知提醒">
    为了避免忘记值班或交接，系统提供两种提醒：
    - **交接班通知**：在轮换交接前 N 分钟（如提前 15 分钟），同时通知"即将下班"和"即将接班"的人员
    - **值班中通知**：在值班期间，每天固定时间（如上午 9:00）发送通知，提醒当前谁在值班
    - **渠道**：支持邮件、短信、电话、IM（飞书/钉钉/企微）
  </Step>
  <Step title="定义值班规则">
    这是最核心的步骤。您可以添加一层或多层规则。每层规则包含：
    - **值班人员**：选择参与轮换的成员
    - **轮换周期**：支持天、周、自定义时长
    - **限制时间段**：（可选）该规则仅在特定时间段生效
  </Step>
</Steps>

## 临时调班与请假

---

当值班人员需要请假或临时有事时，**不要修改永久的值班规则**，请使用"临时调班"功能。

<Steps>
  <Step title="找到需要调整的时间段">
    在值班日历视图中，找到需要调整的时间段
  </Step>
  <Step title="选择临时调班">
    点击该时间段，选择 **"临时调班"** (Override)
  </Step>
  <Step title="配置替班信息">
    选择 **替班人员** 和 **具体时间范围**
  </Step>
</Steps>

<Note>
- **临时生效**：只影响选定的时间段，调班结束后自动恢复原规则
- **记录留痕**：所有的调班记录都会被保存，方便后续审计
</Note>

<Tip>
建议在正式交接班前，新旧值班人员进行一次简短的同步会，确认遗留问题和当前系统状态，这比单纯的系统通知更安全。
</Tip>

## 日期掩码与连续轮换

---

### 日期掩码

日期掩码用于控制值班规则在一周中的哪些天生效。通过选择不同的星期组合，可以灵活实现工作日与周末的差异化排班。

常见使用场景：
- **工作日/周末分离**：工作日由 A 团队值班，周末由 B 团队值班
- **特定日期值班**：仅在周一、三、五安排某组人员值班
- **白班/夜班按天区分**：工作日配置白班和夜班规则，周末配置全天值班规则

### 连续轮换

默认情况下，排班按照自然日 00:00 进行切分。如果班次跨越午夜，将被拆分为多个时间段。

![简单轮换](https://docs-cdn.flashcat.cloud/images/png/695199d7990bf99cafab58ed10be75a1.png)

开启**连续轮换**后，轮换边界将以班次开始时间为基准计算，而不再以 00:00 为切分点。每位值班成员将完整执行一个轮换周期，不会因 00:00 被拆分。

![连续轮换](https://docs-cdn.flashcat.cloud/images/png/d56eca56d65aa17df67110ad4a0c61a7.png)

<Note>
以下场景建议开启连续轮换：
- 轮换周期为 24 小时
- 班次开始时间不是 00:00
- 配置了按星期掩码排班
- 工作日与周末采用不同轮换规则
</Note>

## 常见排班场景

---

<Tabs>
  <Tab title="7x24 简单轮换">
    **需求**：运维组有 A、B、C 三位同学，每人值班一周，周一上午 10:00 交接。
    
    **配置**：
    - 人员序列：A, B, C
    - 轮换周期：1 周
    - 交接时间：周一 10:00
    
    **效果**：A 值班一周 → B 值班一周 → C 值班一周 → A 值班一周...
    
    ![简单轮换](https://docs-cdn.flashcat.cloud/images/png/1a730fa3bf86e2bf206f1e4c9869371c.png)
  </Tab>
  
  <Tab title="白班/夜班分离">
    **需求**：
    - **白班**（9:00-18:00）：由研发团队轮流值班
    - **夜班**（18:00-次日 9:00）：由 SRE 团队轮流值班
    - **周末**：全天由监控小组值班
    
    **配置思路**：创建多个规则
    1. **规则 1（研发白班）**：添加研发人员，限制生效时间为 `工作日 09:00 ~ 18:00`
    2. **规则 2（SRE 夜班）**：添加 SRE 人员，限制生效时间为 `工作日 18:00 ~ 09:00`
    3. **规则 3（监控小组）**：添加监控人员，限制生效时间为 `周六 00:00 ~ 周日 23:59`
    
    ![白班夜班规则](https://docs-cdn.flashcat.cloud/images/png/b9d927672873bd1baf46f5146fde34e9.png)
    
    ![白班夜班效果](https://docs-cdn.flashcat.cloud/images/png/d9045ae9474bc300d38bf0d24bb69abc.png)
  </Tab>
  
  <Tab title="主备值班">
    **需求**：重要业务需要双重保障，设有一名主值班和一名备值班。
    
    **配置思路**：
    - **同一规则内**：在添加值班人员时，支持同时设置主备人员
    - **通知**：在分派策略的通知对象中，可以选择将告警通知给值班表的主值班或备值班
    - **优势**：无需创建多层规则，管理更简单
    
    ![主备值班配置](https://docs-cdn.flashcat.cloud/images/png/3eef3b3290befffa076316d1bae8b521.png)
    
    ![主备值班通知](https://docs-cdn.flashcat.cloud/images/png/261cb975427527cc305c3ad467dd935e.png)
  </Tab>
</Tabs>

## 延伸阅读

---

<CardGroup cols={2}>
  <Card title="分派策略" icon="sitemap" href="/zh/on-call/channel/escalation-rule">
    配置告警通知规则和升级路径
  </Card>
  <Card title="服务日历" icon="calendar" href="/zh/on-call/configuration/service-calendar">
    定义工作日和休息日
  </Card>
</CardGroup>

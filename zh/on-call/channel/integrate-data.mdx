---
title: "集成数据"
description: "将监控系统的告警接入 Flashduty On-call，实现统一告警处理"
keywords: ["集成数据", "告警接入", "监控系统", "数据集成", "告警推送"]
---

Flashduty On-call 本身不产生告警，而是作为统一告警中心，接收来自 Zabbix、Prometheus、夜莺、各大云厂商等监控系统的告警事件。接入完成后，即可使用降噪、分派、通知、分析与自动化等能力。

{/*
## 视频介绍

<video
  controls
  className="w-full aspect-video rounded-xl"
  src="https://download.flashcat.cloud/flashduty/video/integrate-alerts.mp4"
></video>

*/}
## 接入方式

Flashduty On-call 提供两种告警接入方式：

| 对比项 | 专属集成 | 共享集成 |
| :--- | :--- | :--- |
| 数据流向 | 告警直接进入当前空间 | 通过路由规则分发到一个或多个空间 |
| 配置难度 | 开箱即用，无需路由 | 需配置路由规则 |
| 典型场景 | 单一业务团队 | 多业务共用监控平台 |
| **推荐选择** | 刚开始使用、业务简单 | 告警需要按条件分流到不同业务空间 |

### 专属集成

在协作空间内创建的集成，告警自动进入该空间。

<Steps>
  <Step title="进入集成页面">
    进入 协作空间详情 → 集成数据 → **专属集成**
  </Step>
  <Step title="添加集成">
    点击 **添加集成**，选择告警类型
  </Step>
  <Step title="配置推送地址">
    复制生成的 **推送地址** 到监控平台
  </Step>
</Steps>

<Frame caption="专属集成配置">
  <img src="https://api.apifox.com/api/v1/projects/4169655/resources/436399/image-preview" alt="专属集成" />
</Frame>

### 共享集成

在集成中心创建的全局集成，通过[路由规则](/zh/on-call/integration/alert-integration/routing-rules)将告警分发到不同协作空间。

<Steps>
  <Step title="进入集成中心">
    进入 集成中心 → 告警事件 → **添加集成**
  </Step>
  <Step title="创建集成">
    选择告警类型，设置 **管理团队**（可选）
  </Step>
  <Step title="配置推送地址">
    复制生成的 **推送地址** 到监控平台
  </Step>
  <Step title="配置路由规则">
    配置 **路由规则**，指定告警分发到哪个协作空间
  </Step>
</Steps>

<Warning>
共享集成必须配置至少一条路由规则，否则告警将被丢弃。建议设置一条无筛选条件的规则作为兜底，避免告警丢失。
</Warning>

<Frame caption="共享集成配置">
  <img src="https://download.flashcat.cloud/flashduty/doc/zh/fd/integration-1.png" alt="共享集成" />
</Frame>

## 集成功能

两种集成方式的可选配置，可在集成详情页中配置：

| 功能 | 说明 | 专属集成 | 共享集成 |
| :--- | :--- | :---: | :---: |
| 标签增强 | 通过正则提取、映射表等方式动态生成新标签 | ✓ | ✓ |
| 告警处理 | 配置 Pipeline 对告警进行过滤、修改、丢弃等处理 | ✓ | ✓ |
| 路由规则 | 按条件将告警分发到不同的协作空间 | ✗ | ✓（必填） |

### 标签增强

在告警进入系统后，自动为其添加或修改标签，便于后续的路由、检索和分析。支持多种增强方式：

- **正则提取**：从现有字段中提取关键信息生成新标签
- **映射表**：通过预定义的键值对映射生成标签
- **组合**：为告警添加固定的标签值

详见 [标签增强](/zh/on-call/integration/alert-integration/label-enhancement)。

### 告警处理

通过 Pipeline 对告警进行预处理，在告警生成故障之前执行自定义逻辑：

- **修改**：调整告警的标题、级别、描述等属性
- **过滤**：按条件丢弃不需要的告警

详见 [告警处理](/zh/on-call/integration/alert-integration/alert-pipelines)。

### 路由规则

按告警属性（如标签、级别等）将告警分发到不同的协作空间：

- **专属集成**：无需路由规则
- **共享集成**：必须配置，否则告警将被丢弃

详见 [路由规则](/zh/on-call/integration/alert-integration/routing-rules)。

## 频率限制

为保证系统稳定性，每个集成的请求频率限制为：

| 限制类型 | 限制值 |
| :--- | :--- |
| **QPS** | 100 次/秒 |
| **QPM** | 1000 次/分钟 |

<Note>
超出限制将返回 `429` 状态码，请等待后重试。如需扩大限制，请联系技术支持。
</Note>

## 常见问题

<AccordionGroup>
  <Accordion title="共享集成收不到告警？" icon="circle-question">
    1. 检查是否已配置路由规则
    2. 确认源平台是否正常触发告警事件
  </Accordion>

  <Accordion title="集成数量是否有限制？" icon="circle-question">
    目前没有限制。
  </Accordion>

  <Accordion title="告警标签如何生成？" icon="circle-question">
    Flashduty On-call 按"应取尽取"原则，将关键信息放入标签、描述或标题中。如需动态生成其他标签，请配置 [标签增强](/zh/on-call/integration/alert-integration/label-enhancement)。
  </Accordion>

  <Accordion title="告警标题如何确定？可以修改吗？" icon="circle-question">
    默认为"策略名称 / 告警对象"的组合。如需自定义，请参考 [引用变量](/zh/on-call/advanced/reference-variables)。
  </Accordion>

  <Accordion title="如何查看告警来自哪个集成？" icon="circle-question">
    进入 故障详情 → 关联告警 → **告警来源**。
  </Accordion>
</AccordionGroup>

## 延伸阅读

<CardGroup cols={3}>
  <Card title="配置分派策略" icon="sitemap" href="/zh/on-call/channel/escalation-rule">
    定义告警通知和升级规则
  </Card>
  <Card title="配置告警降噪" icon="volume-xmark" href="/zh/on-call/channel/noise-reduction">
    减少告警轰炸，提升处理效率
  </Card>
  <Card title="告警集成指南" icon="book" href="/zh/on-call/integration/alert-integration/alert-sources/prometheus">
    了解各监控平台的具体接入方式
  </Card>
</CardGroup>
